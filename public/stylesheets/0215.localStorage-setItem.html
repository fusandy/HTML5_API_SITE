<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>localStorage setItem</title>
</head>
<body>
    <a href="0215.localStorage-getItem.html">列表</a>
    <form name="contactForm">
        <label for="name">姓名</label>
        <input type="text" name="name" id="name" required><br>
        <label for="age">年齡</label>
        <input type="number" name="age" id="age" required><br>
        <label for="mobile">手機</label>
        <input type="text" name="mobile" id="mobile" required
            pattern="^09\d{2}-?\d{3}-?\d{3}$" placeholder="09XX-XXX-XXX"><br>
        <input type="submit" value="儲存">
    </form>

    <script src="/javascripts/js/jquery-3.6.0.js"></script>
    <script>
        const contactList = "contact-book:";
        document.contactForm.onsubmit = function(event){
            const time = new Date().getTime();
            console.log('time', time);
            
            let data = {
                name: document.contactForm.name.value,
                age: document.contactForm.age.value,
                mobile: document.contactForm.mobile.value,
                time: time,
            }
            localStorage.setItem(contactList+time, JSON.stringify(data));
            console.log('localStorage:', localStorage);
            document.contactForm.reset();
            alert('Saved!');
            return false;
        }
    </script>
</body>
</html>